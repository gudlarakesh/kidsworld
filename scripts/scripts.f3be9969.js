"use strict";function productService(a,b){function c(){var b=firebase.database().ref("products").push();return a(b)}function d(){var a=firebase.database().ref().child("categories");return b(a)}function e(){var a=firebase.database().ref().child("products");return b(a)}function f(){var a=firebase.database().ref().child("products");return b(a)}function g(b){var c=firebase.database().ref().child("products").child(b);return a(c)}function h(a,b){b.$remove(b.$indexFor(a))}var i={product:c,getCategories:d,getProducts:e,removeProducts:h,getProductById:g,getNewProducts:f};return i}angular.module("abckidsworldApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","firebase","cloudinary",,"ngFileUpload","ngMaterial","slick"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/abckidsworld/upload",{templateUrl:"views/uploadproducts.html",controller:"UploadproductsCtrl"}).when("/abckidsworld/remove",{templateUrl:"views/remove.html",controller:"RemoveCtrl"}).when("/products",{templateUrl:"views/products.html",controller:"ProductsCtrl"}).when("/viewproduct/:id",{templateUrl:"views/viewproduct.html",controller:"ViewproductCtrl"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/"})}]).config(["cloudinaryProvider",function(a){a.set("cloud_name","rakeshschool").set("upload_preset","abckidsworld")}]),angular.module("abckidsworldApp").controller("MainCtrl",["$scope","$firebaseArray","productService","$timeout","$location",function(a,b,c,d,e){var f,g;a.getSliderImages=function(){var b=c.getProducts().$loaded();b.then(function(b){f=b.filter(function(a){return"true"===a.topProduct}),g=b.filter(function(a){return"true"===a.newProduct}),d(function(){a.topProducts=f,a.newProducts=g},1)})},a.checkProduct=function(a){e.url("/viewproduct/"+a)}}]),angular.module("abckidsworldApp").controller("AboutCtrl",function(){}),angular.module("abckidsworldApp").controller("UploadproductsCtrl",["$scope","$rootScope","$routeParams","$location","Upload","cloudinary","productService",function(a,b,c,d,e,f,g){a.categories=g.getCategories(),a.checkImage=!0,a.uploadFiles=function(b){a.files=b,a.files&&angular.forEach(b,function(b){b&&!b.$error&&(b.upload=e.upload({url:"https://api.cloudinary.com/v1_1/"+f.config().cloud_name+"/upload",data:{upload_preset:f.config().upload_preset,file:b}}).success(function(b,c,d,e){a.details.imageUrl=b.url,a.details.image_publicId=b.public_id,a.checkImage=!1}).error(function(a,c,d,e){b.result=a}))})},a.details={name:"",description:"",price:"",myCategories:"",imageUrl:"",image_publicId:"",topProduct:"false",newProduct:"false"},a.details=g.product(),a.updateProduct=function(){console.log(a.details),a.details.$save().then(function(){a.details={name:"",description:"",price:"",myCategories:"",imageUrl:"",image_publicId:"",topProduct:"false",newProduct:"false"},a.checkImage=!0,a.details=g.product()})["catch"](function(a){alert("error")})}}]),angular.module("abckidsworldApp").service("productService",productService),productService.$inject=["$firebaseObject","$firebaseArray"],angular.module("abckidsworldApp").controller("RemoveCtrl",["productService","$scope","cloudinary",function(a,b,c){b.clickedCategories="",b.listProducts=[];var d=Promise.resolve(a.getCategories());d.then(function(a){b.categories=a});var e=Promise.resolve(a.getProducts());e.then(function(a){b.products=a}),b.categoryChange=function(a){b.listProducts=[],b.products.forEach(function(c){c.myCategories==a&&(b.listProducts.push(c),b.details={},b.details.imageUrl="")})},b.productChange=function(){b.details={},b.listProducts.forEach(function(a){b.clickedProduct==a.$id&&(b.details=a)})},b.details={name:"",description:"",price:"",myCategories:"",imageUrl:"",image_publicId:"",topProduct:"false",newProduct:"false"},b.updateProduct=function(){var c=a.getProductById(b.clickedProduct),d=Promise.resolve(c);d.then(function(a){a.name=b.details.name,a.description=b.details.description||"",a.price=b.details.price,a.topProduct=b.details.topProduct,a.newProduct=b.details.newProduct,a.$save().then(function(a){b.details={}},function(a){console.log(a)})})},b.deleteImage=function(){var c,d=Promise.resolve(a.getProducts());d.then(function(d){c=d,a.removeProducts(b.clickedProduct,c)})}}]),angular.module("abckidsworldApp").controller("ProductsCtrl",["$scope","productService","$location",function(a,b,c){a.loaded=!0;var d=b.getProducts().$loaded();d.then(function(b){a.myProducts=b}),a.viewProduct=function(a){c.url("/viewproduct/"+a)},a.getCategories=function(){var c=b.getCategories().$loaded();c.then(function(b){a.allCategories=b})},a.categoryClicked=function(b){a.loaded=!1,a.categoryProducts=a.myProducts.filter(function(a){return a.myCategories===b})}}]),angular.module("abckidsworldApp").controller("ViewproductCtrl",["$routeParams","productService","$scope",function(a,b,c){c.productId=a.id;var d=b.getProductById(c.productId).$loaded();d.then(function(a){c.detail=a;var b=a.imageUrl;console.log(b),c.smallImage=b.substring(0,52)+"w_450,h_400/"+b.substring(52)})}]),angular.module("abckidsworldApp").directive("ngElevateZoom",function(){return{restrict:"A",link:function(a,b,c){function d(){c.zoomImage&&(b.attr("data-zoom-image",c.zoomImage),$(b).elevateZoom())}console.log("Linking"),c.$observe("zoomImage",function(){d()}),d()}}}),angular.module("abckidsworldApp").controller("ContactCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("abckidsworldApp").run(["$templateCache",function(a){a.put("views/about.html",'<div id="direct_upload" ngf-drop="uploadFiles($files)" ng-model="files" ng-multiple="true"> <h1>New Photo</h1> <form> <div class="form_line"> <label path="title">Title:</label> <div class="form_controls"> <input type="text" class="form-control" placeholder="Title" ng-model="title"> </div> </div> <div class="form_line"> <label>Image:</label> <div class="form_controls"> <div class="upload_button_holder"> <div href="#" class="upload_button" ngf-select="uploadFiles($files)" multiple title="upload" resetonclick="true">Upload</div> </div> </div> </div> </form> <h2>Status</h2> <div class="file" ng-repeat="file in files"> <h3>{{file.name}} {{f.$error}} {{f.$errorParam}}</h3> <div class="status">{{file.status}}</div> <div class="progress-bar"> <div class="progress" style="width: {{file.progress}}%" ng-init="progress=0"></div> </div> <div class="form_line"> <div class="form_controls"> <div class="preview"> <img ngf-src="file.result.url || file"> </div> </div> </div> <div class="info"> <table> <tr ng-repeat="(key, value) in file.result"> <td> {{key}} </td> <td> {{ value }} </td> </tr> </table> </div> </div> </div>'),a.put("views/contact.html",'<div class="container"> <div class="row buy"> <h5>Product Buy</h5> <form class="col s12"> <div class="row"> <div class="col s6"> <div class="input-field"> <i class="material-icons prefix">account_circle</i> <input id="icon_prefix" type="text" class="validate"> <label for="icon_prefix">First Name</label> </div> <div class="input-field"> <i class="material-icons prefix">phone</i> <input id="icon_telephone" type="tel" class="validate"> <label for="icon_telephone">Telephone</label> </div> <div class="input-field"> <i class="material-icons prefix">email</i> <input id="email" type="email" class="validate"> <label for="email" data-error="wrong" data-success="right">Email</label> </div> </div> <div class="input-field col s6"> <i class="material-icons prefix">mode_edit</i> <textarea id="icon_prefix2" class="materialize-textarea"></textarea> <label for="icon_prefix2">Description</label> <button class="btn waves-effect waves-light" type="submit" name="action" style="float:right">Submit <i class="material-icons right">send</i> </button> </div> </div> </form> </div> <div class="row"> <div class="col-md-6"> <iframe width="100%" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3804.50692356707!2d78.39648754996166!3d17.53103568793374!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb8e1106b64477%3A0xc3906ff4e365f7b2!2sABC+Kids+World!5e0!3m2!1sen!2sin!4v1480758894045"></iframe> </div> <div class="col-md-6"> <h2>Contact Address</h2> <address> Plot No.112/A<br> Aleap Industrial Estate,<br> Near Pragathi Nagar,<br> Opp. JNTU Kukatpally,<br> Hyderabad,<br> Telangana - 500 090<br> </address> </div> </div> </div>'),a.put("views/main.html",'<div class="main" ng-init="getSliderImages()"> <div class="container-fluid main-container"> <div class="row content"> <span id="welcome">Welcome</span> <br> <span id="to">to</span><br> <span id="company-name">ABC KIDS WORLD</span> </div> </div> <section id="reviews"> <div class="carousel carousel-slider center" data-indicators="true"> <div class="carousel-fixed-item center"> <h6>Company Reviews</h6> </div> <div class="carousel-item red white-text" href="#one!"> <h2 class="review-content">Vineet Souri</h2> <p class="white-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id excepturi aliquam non, voluptates nostrum, dicta totam a, obcaecati recusandae voluptatum quaerat, officiis? Ipsam culpa eum, minus, voluptatum non cupiditate dicta.</p> </div> <div class="carousel-item amber white-text" href="#two!"> <h2 class="review-content">Ankit Sabinkar</h2> <p class="white-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id excepturi aliquam non, voluptates nostrum, dicta totam a, obcaecati recusandae voluptatum quaerat, officiis? Ipsam culpa eum, minus, voluptatum non cupiditate dicta.</p> </div> <div class="carousel-item green white-text" href="#three!"> <h2 class="review-content">Virat Kohli</h2> <p class="white-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id excepturi aliquam non, voluptates nostrum, dicta totam a, obcaecati recusandae voluptatum quaerat, officiis? Ipsam culpa eum, minus, voluptatum non cupiditate dicta.</p> </div> <div class="carousel-item blue white-text" href="#four!"> <h2 class="review-content">Sunil Gavaskar</h2> <p class="white-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Id excepturi aliquam non, voluptates nostrum, dicta totam a, obcaecati recusandae voluptatum quaerat, officiis? Ipsam culpa eum, minus, voluptatum non cupiditate dicta.</p> </div> </div> </section> <section id="section2"> <h3>TOP PRODUCTS</h3> <div class="container slick-carousel"> <slick dots="true" infinite="true" speed="300" autoplay slides-to-show="5" init-onload="true" data="topProducts" touch-move="false" slides-to-scroll="1" arrows="true"> <button type="button" class="slick-prev arrow_button">Previous</button> <div ng-repeat="product in topProducts"> <span class="productImage"> <img ng-src="{{product.imageUrl}}" alt="{{product.name}}" style="height: 200px; width:150px" ng-click="checkProduct(product.$id)"> <p>{{product.name}}</p> </span> </div> <button type="button" class="slick-next arrow_button">Next</button> </slick> </div> </section> <section id="section3"> <!--<h3>NEW PRODUCTS</h3>--> <div class="container slick-carousel"> <slick dots="true" infinite="true" speed="300" autoplay slides-to-show="4" touch-move="false" init-onload="true" data="newProducts" slides-to-scroll="1" arrows="true"> <button type="button" class="slick-prev arrow_button">Previous</button> <div ng-repeat="product in newProducts"> <span class="newImage"> <img ng-src="{{product.imageUrl}}" alt="{{product.name}}" style="height: 200px; width:150px" ng-click="checkProduct(product.$id)"> <p>{{product.name}}</p> </span> </div> <button type="button" class="slick-next arrow_button">Next</button> </slick> </div> </section> </div> <script>$(\'.carousel-slider\').carousel({time_constant: 200, full_width: true});</script>'),a.put("views/products.html",'<div class="row products-page" ng-init="getCategories()"> <h2 class="products-heading">Products</h2> <div class="row"> <div class="col s12"> <ul class="tabs tabs-fixed-width"> <li class="tab col s1" ng-repeat="category in allCategories"><a ng-href="#{{category.$id}}" ng-click="categoryClicked(category.$id)">{{category.name}}</a></li> <!-- <li class="tab col s3"><a href="#test1">Test 1</a></li>\n        <li class="tab col s3"><a class="active" href="#test2">Test 2</a></li>\n        <li class="tab col s3"><a href="#test3">Test 3</a></li>\n        <li class="tab col s3"><a href="#test4">Test 4</a></li> --> </ul> </div> <div id="default" ng-if="loaded"> Please select a category to view products. </div> <div id="test1" class="col s12"> <div class="col s12 m4" ng-repeat="product in categoryProducts"> <div class="card large"> <div class="card-image"> <img ng-src="{{product.imageUrl}}"> <span class="card-title">{{product.name}}</span> </div> <div class="card-content"> <p>I am a very simple card. I am good at containing small bits of information. I am convenient because I require little markup to use effectively.</p> </div> <div class="card-action"> <a class="waves-effect waves-light btn view-product" ng-click="viewProduct(product.$id)">View Product</a> </div> </div> </div> </div> </div> </div> <script>$(\'ul.tabs\').tabs();</script>'),a.put("views/remove.html",'<div class="container"> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Categories</label> <md-select ng-model="clickedCategories" ng-change="categoryChange(clickedCategories)"> <md-option><em>None</em></md-option> <md-option ng-repeat="state in categories" ng-value="state.$id"> {{state.name}} </md-option> </md-select> </md-input-container> </div> <div class="col-md-4 remove"> <md-input-container> <label>Products</label> <md-select ng-model="clickedProduct" ng-change="productChange()"> <md-option><em>None</em></md-option> <md-option ng-repeat="state in listProducts" ng-value="state.$id"> <span class="removeImageText">{{state.name}}</span> </md-option> </md-select> </md-input-container> </div> </div> <div class="row"> <div class="col-md-offset-4 col-md-7"> <form ng-submit="updateProduct()"> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Name</label> <input ng-model="details.name"> </md-input-container> </div> <div class="col-md-8"> <md-input-container> <label>Description</label> <textarea name="" ng-model="details.description"></textarea> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Price</label> <input type="number" ng-model="details.price"> </md-input-container> </div> <div class="col-md-8"> <img ng-src="{{details.imageUrl}}" alt="" style="height 200px;width:200px"> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>TopProducts</label> <md-select ng-model="details.topProduct"> <md-option>true</md-option> <md-option>false</md-option> </md-select> </md-input-container> </div> <div class="col-md-4"> <md-input-container> <label>NewProducts</label> <md-select ng-model="details.newProduct"> <md-option>true</md-option> <md-option>false</md-option> </md-select> </md-input-container> </div> </div> <input type="submit" class="btn btn-success" value="Submit"> </form> </div> </div> <div class="row"> <div class="col-md-4"> <md-button ng-click="deleteImage()"> Delete Image</md-button> </div> </div> </div>'),a.put("views/uploadproducts.html",'<div class="container"> <h2>upload your product</h2> <form ng-submit="updateProduct()"> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Name</label> <input ng-model="details.name"> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Description</label> <textarea name="" ng-model="details.description"></textarea> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Price</label> <input type="number" ng-model="details.price"> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <div href="#" class="upload_button" ngf-select="uploadFiles($files)" multiple title="upload" resetonclick="true">Upload</div> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>Categories</label> <md-select ng-model="details.myCategories"> <md-option><em>None</em></md-option> <md-option ng-repeat="state in categories" ng-value="state.$id"> {{state.name}} </md-option> </md-select> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>TopProducts</label> <md-select ng-model="details.topProduct"> <md-option>true</md-option> <md-option>false</md-option> </md-select> </md-input-container> </div> </div> <div class="row"> <div class="col-md-4"> <md-input-container> <label>NewProducts</label> <md-select ng-model="details.newProduct"> <md-option>true</md-option> <md-option>false</md-option> </md-select> </md-input-container> </div> </div> <input ng-disabled="checkImage" type="submit" class="btn btn-success" value="Submit"> </form> </div>'),a.put("views/viewproduct.html",'<div class="container"> <div class="row"> <div class="col-md-5"> <img ng-elevate-zoom zoom-image="{{detail.imageUrl}}" ng-src="{{smallImage}}" alt=""> </div> </div> </div>')}]);